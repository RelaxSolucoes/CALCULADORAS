                <div class="result-item" id="multaFgtsRow">
                    <span class="result-label">Multa FGTS (50%) - mensal:</span>
                    <span class="result-value positive" id="multaFgts">R$ 0</span>
                </div>
                <div class="result-item" id="avisoPrevioRow">
                    <span class="result-label">Aviso Pr√©vio - mensal:</span>
                    <span class="result-value positive" id="avisoPrevio">R$ 0</span>
                </div><!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Custos de Funcion√°rio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-size: 2.5em;
            font-weight: 700;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .input-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 1.1em;
        }

        input[type="number"] {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1.1em;
            transition: border-color 0.3s ease;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .calculate-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .results {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .scenario {
            background: #fff;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e9ecef;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .scenario:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .scenario-title {
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
            padding: 10px;
            border-radius: 10px;
        }

        .cenario-direto {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #333;
        }

        .cenario-clt {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #333;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
        }

        .result-item:last-child {
            border-bottom: none;
            font-weight: 700;
            font-size: 1.1em;
            background: #f8f9fa;
            margin-top: 10px;
            padding: 15px;
            border-radius: 8px;
        }

        .result-label {
            font-weight: 600;
            color: #333;
        }

        .result-value {
            font-weight: 700;
            color: #2c3e50;
        }

        .positive {
            color: #27ae60;
        }

        .negative {
            color: #e74c3c;
        }

        .comparison {
            grid-column: span 2;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            margin-top: 20px;
        }

        .comparison h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .comparison-value {
            font-size: 2em;
            font-weight: 700;
            margin: 10px 0;
        }

        .info-box {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .info-title {
            font-weight: 700;
            color: #1565c0;
            margin-bottom: 10px;
        }

        .info-text {
            color: #424242;
            line-height: 1.6;
        }

        .breakdown-section {
            grid-column: span 2;
            margin-top: 30px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px solid #e9ecef;
        }
        
        .breakdown-title {
            font-size: 1.4em;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }
        
        .breakdown-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .breakdown-column {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .breakdown-column h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
            text-align: center;
            padding-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .breakdown-table {
            width: 100%;
            margin-top: 15px;
        }
        
        .breakdown-table th,
        .breakdown-table td {
            padding: 8px 12px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }
        
        .breakdown-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .breakdown-table .highlight {
            background: #e8f4f8;
            font-weight: 600;
        }
        
        .breakdown-explanation {
            grid-column: span 2;
            margin-top: 20px;
            padding: 15px;
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 5px;
            font-size: 0.9em;
            color: #856404;
        }

        @media (max-width: 768px) {
            .results {
                grid-template-columns: 1fr;
            }
            
            .comparison, .breakdown-section {
                grid-column: span 1;
            }
            
            .breakdown-content {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üí∞ Calculadora de Custos</h1>
        <p class="subtitle">Compare: CLT vs Sem Registro - Escolha do Funcion√°rio</p>

        <div class="input-section">
            <div class="input-group">
                <label for="custoEmpresa">üíº Valor que a empresa tem dispon√≠vel para gastar (R$):</label>
                <input type="number" id="custoEmpresa" value="5000" min="0" step="100">
            </div>
            <div class="input-group">
                <label style="display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox" id="considerarDemissao" style="width: auto; transform: scale(1.2);">
                    <span>‚öñÔ∏è Considerar custos de poss√≠vel demiss√£o (Multa FGTS + Aviso Pr√©vio)?</span>
                </label>
                <small style="color: #666; margin-top: 5px; display: block;">
                    * Estes custos s√≥ ocorrem se o funcion√°rio for demitido sem justa causa
                </small>
            </div>
            <button class="calculate-btn" onclick="calcular()">üîç Calcular Cen√°rios</button>
        </div>

        <div id="resultados" class="results" style="display: none;">
            <!-- Cen√°rio 1: Contrata√ß√£o Direta -->
            <div class="scenario">
                <h3 class="scenario-title cenario-direto">üìÑ Cen√°rio 1: Sem Registro (Pessoa F√≠sica)</h3>
                <div class="result-item">
                    <span class="result-label">Custo para empresa:</span>
                    <span class="result-value" id="custoDirecto">R$ 0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Valor bruto recebido:</span>
                    <span class="result-value positive" id="valorBruto">R$ 0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">(-) Imposto de Renda (carn√™-le√£o):</span>
                    <span class="result-value negative" id="irSemRegistro">R$ 0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Valor l√≠quido final:</span>
                    <span class="result-value positive" id="valorDirecto">R$ 0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Benef√≠cios/Prote√ß√µes:</span>
                    <span class="result-value negative">Nenhum</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Responsabilidades fiscais:</span>
                    <span class="result-value negative">Carn√™-le√£o mensal</span>
                </div>
            </div>

            <!-- Cen√°rio 2: CLT -->
            <div class="scenario">
                <h3 class="scenario-title cenario-clt">üìã Cen√°rio 2: Registro CLT</h3>
                <div class="result-item">
                    <span class="result-label">Custo total para empresa:</span>
                    <span class="result-value" id="custoCLT">R$ 0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Sal√°rio bruto:</span>
                    <span class="result-value" id="salarioBruto">R$ 0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Sal√°rio l√≠quido mensal:</span>
                    <span class="result-value" id="salarioLiquido">R$ 0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">13¬∫ sal√°rio (mensal):</span>
                    <span class="result-value positive" id="decimoTerceiro">R$ 0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">F√©rias + 1/3 (mensal):</span>
                    <span class="result-value positive" id="ferias">R$ 0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">FGTS (mensal):</span>
                    <span class="result-value positive" id="fgts">R$ 0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total m√©dio mensal:</span>
                    <span class="result-value positive" id="totalCLT">R$ 0</span>
                </div>
            </div>

            <!-- Compara√ß√£o 1: Valor L√≠quido Puro -->
            <div class="comparison">
                <h3>üí∞ Compara√ß√£o 1: Valor L√≠quido Mensal</h3>
                <div style="font-size: 0.9em; margin-bottom: 15px; color: #666;">
                    <em>Sal√°rio l√≠quido CLT vs Valor l√≠quido Sem Registro (sem benef√≠cios extras)</em>
                </div>
                <div>
                    <strong>Diferen√ßa para o funcion√°rio:</strong>
                    <div class="comparison-value" id="diferencaImediata">R$ 0</div>
                    <div id="melhorOpcaoImediata"></div>
                </div>
            </div>

            <!-- Compara√ß√£o 2: Com Benef√≠cios/Reservas -->
            <div class="comparison">
                <h3>üéØ Compara√ß√£o 2: Incluindo Benef√≠cios e Reservas</h3>
                <div style="font-size: 0.9em; margin-bottom: 15px; color: #666;">
                    <em>CLT (l√≠quido + benef√≠cios) vs Sem Registro (l√≠quido - reservas equivalentes)</em>
                </div>
                <div>
                    <strong>Diferen√ßa para o funcion√°rio:</strong>
                    <div class="comparison-value" id="diferencaPreparada">R$ 0</div>
                    <div id="melhorOpcaoPreparada"></div>
                </div>
            </div>

            <!-- Breakdown Detalhado -->
            <div class="breakdown-section">
                <div class="breakdown-title">üìä Breakdown Detalhado - Compara√ß√£o Lado a Lado</div>
                <table class="breakdown-table" style="width: 100%; background: white; border-radius: 10px; overflow: hidden;">
                    <thead>
                        <tr style="background: #2c3e50; color: white;">
                            <th style="width: 40%; padding: 15px;">Item</th>
                            <th style="width: 30%; padding: 15px;">üè† Sem Registro</th>
                            <th style="width: 30%; padding: 15px;">üìã CLT</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>üí∞ Valor inicial</strong></td>
                            <td id="breakdown-sem-valor">R$ 0</td>
                            <td id="breakdown-clt-bruto">R$ 0</td>
                        </tr>
                        <tr style="background: #fff3cd;">
                            <td><strong>üìã Imposto de Renda</strong></td>
                            <td id="breakdown-sem-ir">R$ 0</td>
                            <td id="breakdown-clt-ir">R$ 0</td>
                        </tr>
                        <tr>
                            <td><strong>üè• INSS</strong></td>
                            <td id="breakdown-sem-inss">R$ 0 (facultativo)</td>
                            <td id="breakdown-clt-inss">R$ 0 (obrigat√≥rio)</td>
                        </tr>
                        <tr>
                            <td><strong>üè¶ FGTS (8%)</strong></td>
                            <td id="breakdown-sem-fgts">R$ 0 (deve guardar)</td>
                            <td id="breakdown-clt-fgts">R$ 0 (empresa paga)</td>
                        </tr>
                        <tr>
                            <td><strong>üéÑ 13¬∫ sal√°rio</strong></td>
                            <td id="breakdown-sem-13">R$ 0 (deve guardar)</td>
                            <td id="breakdown-clt-13">R$ 0 (empresa paga)</td>
                        </tr>
                        <tr>
                            <td><strong>üèñÔ∏è F√©rias + 1/3</strong></td>
                            <td id="breakdown-sem-ferias">R$ 0 (deve guardar)</td>
                            <td id="breakdown-clt-ferias">R$ 0 (empresa paga)</td>
                        </tr>
                        <tr class="highlight" style="background: #e8f4f8; font-weight: bold;">
                            <td><strong>üí∏ Total descontos/reservas</strong></td>
                            <td id="breakdown-sem-total">R$ 0</td>
                            <td id="breakdown-clt-descontos">R$ 0</td>
                        </tr>
                        <tr class="highlight" style="background: #d4edda; font-weight: bold; font-size: 1.1em;">
                            <td><strong>üíµ VALOR FINAL</strong></td>
                            <td id="breakdown-sem-sobra">R$ 0</td>
                            <td id="breakdown-clt-total">R$ 0</td>
                        </tr>
                    </tbody>
                </table>
            </div>
                
                <div class="breakdown-explanation">
                    <strong>üìù Explica√ß√£o:</strong> Para "Sem Registro" poder ter os mesmos benef√≠cios do CLT, deve guardar valores equivalentes. 
                    <strong>FGTS, benef√≠cios (13¬∫/F√©rias) e INSS</strong> s√£o os mesmos valores do CLT para compara√ß√£o justa. 
                    <strong>INSS</strong> no CLT √© obrigat√≥rio; no "Sem Registro" √© facultativo mas usando o mesmo valor.
                </div>
            </div>
        </div>

        <!-- Detalhes dos C√°lculos -->
        <div id="detalhes" class="info-box" style="display: none;">
            <div class="info-title">üìã Como s√£o calculados os valores CLT:</div>
            <div class="info-text">
                <p><strong>Encargos patronais obrigat√≥rios:</strong></p>
                <ul style="margin: 10px 0 10px 20px;">
                    <li>INSS Patronal: 20%</li>
                    <li>FGTS: 8%</li>
                    <li>SAT/RAT (Seguro Acidente): 1% a 3% (usado 2%)</li>
                    <li>Sal√°rio Educa√ß√£o: 2,5%</li>
                    <li>Sistema S (SENAC, SESC, SENAI, SESI): 3,3%</li>
                    <li>SEBRAE: 0,6%</li>
                    <li>INCRA: 0,2%</li>
                </ul>
                <p><strong>Provis√µes trabalhistas:</strong></p>
                <ul style="margin: 10px 0 10px 20px;">
                    <li>13¬∫ sal√°rio: 8,33% (1/12)</li>
                    <li>F√©rias + 1/3: 11,11% (1/9)</li>
                </ul>
                <p><strong>Custos de demiss√£o (opcionais):</strong></p>
                <ul style="margin: 10px 0 10px 20px;">
                    <li>Multa FGTS (50%): 4,0% - empresa paga 50%, funcion√°rio recebe 40%, governo 10%</li>
                    <li>Aviso Pr√©vio: ~2,7% - apenas se demitido sem justa causa</li>
                </ul>
                <p><strong>Descontos do funcion√°rio CLT:</strong></p>
                <ul style="margin: 10px 0 10px 20px;">
                    <li>INSS: c√°lculo progressivo (7,5% a 14%)</li>
                    <li>Imposto de Renda: vari√°vel (n√£o aplicado no CLT)</li>
                </ul>
                <p><strong>Sem Registro - Pessoa F√≠sica:</strong></p>
                <ul style="margin: 10px 0 10px 20px;">
                    <li>Imposto de Renda: c√°lculo progressivo (carn√™-le√£o)</li>
                    <li>Responsabilidade pr√≥pria: INSS facultativo</li>
                </ul>
                <p style="margin-top: 15px;"><strong>Total de encargos:</strong></p>
                <ul style="margin: 10px 0 10px 20px;">
                    <li>Sem custos de demiss√£o: ~63%</li>
                    <li>Com custos de demiss√£o: ~70% (incluindo multa FGTS 50%)</li>
                </ul>
                <p style="margin-top: 10px;"><em>Nota: Este c√°lculo inclui os principais encargos obrigat√≥rios. Valores podem variar conforme setor, porte da empresa e benef√≠cios adicionais oferecidos.</em></p>
            </div>
        </div>
    </div>

    <script>
        function formatarMoeda(valor) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(valor);
        }

        function calcularINSS(salario) {
            // Tabela INSS 2024 - Progressiva
            const faixas = [
                { min: 0, max: 1412.00, aliquota: 0.075 },
                { min: 1412.01, max: 2666.68, aliquota: 0.09 },
                { min: 2666.69, max: 4000.03, aliquota: 0.12 },
                { min: 4000.04, max: 7786.02, aliquota: 0.14 }
            ];
            
            let inss = 0;
            let salarioRestante = salario;
            
            for (let faixa of faixas) {
                if (salarioRestante <= 0) break;
                
                const valorFaixa = Math.min(salarioRestante, faixa.max - faixa.min + 0.01);
                if (valorFaixa > 0) {
                    inss += valorFaixa * faixa.aliquota;
                    salarioRestante -= valorFaixa;
                }
            }
            
            return Math.min(inss, 7786.02 * 0.14); // Teto do INSS
        }
        
        function calcularIR(renda) {
            // Tabela IR 2024 - Progressiva (Pessoa F√≠sica)
            const faixas = [
                { min: 0, max: 2259.20, aliquota: 0, deducao: 0 },
                { min: 2259.21, max: 2826.65, aliquota: 0.075, deducao: 169.44 },
                { min: 2826.66, max: 3751.05, aliquota: 0.15, deducao: 381.44 },
                { min: 3751.06, max: 4664.68, aliquota: 0.225, deducao: 662.77 },
                { min: 4664.69, max: Infinity, aliquota: 0.275, deducao: 896.00 }
            ];
            
            for (let faixa of faixas) {
                if (renda >= faixa.min && renda <= faixa.max) {
                    return Math.max(0, (renda * faixa.aliquota) - faixa.deducao);
                }
            }
            
            return 0;
        }

        function calcular() {
            const custoEmpresa = parseFloat(document.getElementById('custoEmpresa').value) || 0;
            const considerarDemissao = document.getElementById('considerarDemissao').checked;
            
            if (custoEmpresa <= 0) {
                alert('Por favor, insira um valor v√°lido para o custo da empresa.');
                return;
            }

            // Cen√°rio 1: Sem Registro (Pessoa F√≠sica)
            const valorBrutoSemRegistro = custoEmpresa;
            const irSemRegistro = calcularIR(valorBrutoSemRegistro);
            const valorDirecto = valorBrutoSemRegistro - irSemRegistro;

            // Cen√°rio 2: CLT - C√°lculos completos
            // Encargos patronais obrigat√≥rios
            const inssPatronal = 0.20;
            const fgts = 0.08;
            const sat = 0.02; // SAT/RAT m√©dio (1% a 3%)
            const salarioEducacao = 0.025; // 2,5%
            const sistemaS = 0.033; // 3,3% (SENAC, SESC, SENAI, SESI)
            const sebrae = 0.006; // 0,6%
            const incra = 0.002; // 0,2%
            
            // Provis√µes trabalhistas
            const decimoTerceiro = 1/12; // 8,33%
            const ferias = 1/9; // 11,11% (f√©rias + 1/3)
            
            // Provis√µes de demiss√£o (condicionais)
            const multaFgts = considerarDemissao ? 0.04 : 0; // 4,0% (50% sobre FGTS que a empresa paga)
            const avisoPrevio = considerarDemissao ? 0.027 : 0; // ~2,7% (estimativa)
            
            // Total de encargos patronais
            const totalEncargos = inssPatronal + fgts + sat + salarioEducacao + sistemaS + 
                                 sebrae + incra + decimoTerceiro + ferias + multaFgts + avisoPrevio;
            
            // Calcular sal√°rio bruto a partir do custo total da empresa
            const salarioBruto = custoEmpresa / (1 + totalEncargos);
            
            // Descontos do funcion√°rio CLT (c√°lculo progressivo)
            const inssEmpregado = calcularINSS(salarioBruto);
            const irCLT = calcularIR(salarioBruto); // CLT tamb√©m paga IR!
            const salarioLiquido = salarioBruto - inssEmpregado - irCLT;
            
            // Benef√≠cios mensais (rateados)
            const beneficioDecimoTerceiro = salarioBruto * decimoTerceiro;
            const beneficioFerias = salarioBruto * ferias;
            const beneficioFGTS = salarioBruto * fgts;
            const beneficioMultaFGTS = salarioBruto * multaFgts;
            const beneficioAvisoPrevio = salarioBruto * avisoPrevio;
            
            // Total m√©dio mensal que o funcion√°rio recebe/acumula
            const totalMedioCLT = salarioLiquido + beneficioDecimoTerceiro + beneficioFerias + 
                                 beneficioFGTS + beneficioMultaFGTS + beneficioAvisoPrevio;
            
            // Diferen√ßa entre os cen√°rios
            const diferenca = totalMedioCLT - valorDirecto;

            // Atualizar interface - Cen√°rio Sem Registro
            document.getElementById('custoDirecto').textContent = formatarMoeda(custoEmpresa);
            document.getElementById('valorBruto').textContent = formatarMoeda(valorBrutoSemRegistro);
            document.getElementById('irSemRegistro').textContent = formatarMoeda(irSemRegistro);
            document.getElementById('valorDirecto').textContent = formatarMoeda(valorDirecto);
            
            document.getElementById('custoCLT').textContent = formatarMoeda(custoEmpresa);
            document.getElementById('salarioBruto').textContent = formatarMoeda(salarioBruto);
            document.getElementById('salarioLiquido').textContent = formatarMoeda(salarioLiquido);
            document.getElementById('decimoTerceiro').textContent = formatarMoeda(beneficioDecimoTerceiro);
            document.getElementById('ferias').textContent = formatarMoeda(beneficioFerias);
            document.getElementById('fgts').textContent = formatarMoeda(beneficioFGTS);
            document.getElementById('multaFgts').textContent = formatarMoeda(beneficioMultaFGTS);
            document.getElementById('avisoPrevio').textContent = formatarMoeda(beneficioAvisoPrevio);
            
            // Mostrar/esconder custos de demiss√£o
            document.getElementById('multaFgtsRow').style.display = considerarDemissao ? 'flex' : 'none';
            document.getElementById('avisoPrevioRow').style.display = considerarDemissao ? 'flex' : 'none';
            document.getElementById('totalCLT').textContent = formatarMoeda(totalMedioCLT);
            
            // COMPARA√á√ÉO 1: Valor L√≠quido Puro (sem benef√≠cios extras)
            const diferencaImediata = salarioLiquido - valorDirecto; // L√≠quido CLT vs L√≠quido Sem Registro

            // COMPARA√á√ÉO 2: Com benef√≠cios/reservas
            const fgtsEquivalente = beneficioFGTS; // MESMO valor do CLT
            const reserva13Equivalente = beneficioDecimoTerceiro; // MESMO valor do CLT  
            const reservaFeriasEquivalente = beneficioFerias; // MESMO valor do CLT
            const inssOptional = inssEmpregado; // MESMO valor do CLT para compara√ß√£o justa
            
            // CLT: Sal√°rio l√≠quido + benef√≠cios mensais
            const cltComBeneficios = salarioLiquido + beneficioDecimoTerceiro + beneficioFerias + beneficioFGTS;
            
            // Sem Registro: Valor l√≠quido - reservas equivalentes que deve guardar
            const totalReservasSemRegistro = fgtsEquivalente + reserva13Equivalente + reservaFeriasEquivalente + inssOptional;
            const valorSemRegistroPreparado = valorDirecto - totalReservasSemRegistro;
            
            const diferencaPreparada = cltComBeneficios - valorSemRegistroPreparado;

            // COMPARA√á√ÉO 1: Valor Imediato
            document.getElementById('diferencaImediata').textContent = formatarMoeda(Math.abs(diferencaImediata));
            document.getElementById('diferencaImediata').className = `comparison-value ${diferencaImediata >= 0 ? 'positive' : 'negative'}`;
            
            let melhorOpcaoImediata;
            if (diferencaImediata > 0) {
                melhorOpcaoImediata = `<span class="positive">‚úÖ CLT oferece mais l√≠quido mensal</span>`;
            } else if (diferencaImediata < 0) {
                melhorOpcaoImediata = `<span class="negative">‚ö†Ô∏è Sem registro oferece mais l√≠quido mensal</span>`;
            } else {
                melhorOpcaoImediata = `<span>‚öñÔ∏è Valores l√≠quidos equivalentes</span>`;
            }
            document.getElementById('melhorOpcaoImediata').innerHTML = melhorOpcaoImediata;

            // COMPARA√á√ÉO 2: Com Benef√≠cios
            document.getElementById('diferencaPreparada').textContent = formatarMoeda(Math.abs(diferencaPreparada));
            document.getElementById('diferencaPreparada').className = `comparison-value ${diferencaPreparada >= 0 ? 'positive' : 'negative'}`;
            
            let melhorOpcaoPreparada;
            if (diferencaPreparada > 0) {
                melhorOpcaoPreparada = `<span class="positive">‚úÖ CLT oferece mais valor (com benef√≠cios)</span>`;
            } else if (diferencaPreparada < 0) {
                melhorOpcaoPreparada = `<span class="negative">‚ö†Ô∏è Sem registro oferece mais valor (descontando reservas)</span>`;
            } else {
                melhorOpcaoPreparada = `<span>‚öñÔ∏è Valores equivalentes (com benef√≠cios/reservas)</span>`;
            }
            document.getElementById('melhorOpcaoPreparada').innerHTML = melhorOpcaoPreparada;
            
            // Atualizar breakdown detalhado (mostra cen√°rio "ambos preparados")
            updateBreakdown(valorBrutoSemRegistro, irSemRegistro, salarioBruto, inssEmpregado, beneficioDecimoTerceiro, beneficioFerias, beneficioFGTS, salarioLiquido, totalMedioCLT, valorSemRegistroPreparado);
            
            // Mostrar resultados
            document.getElementById('resultados').style.display = 'grid';
            document.getElementById('detalhes').style.display = 'block';
            
            // Scroll para os resultados
            document.getElementById('resultados').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        function updateBreakdown(valorBrutoSemRegistro, irSemRegistro, salarioBruto, inssEmpregado, beneficio13, beneficioFerias, beneficioFGTS, salarioLiquido, totalMedioCLT, valorSemRegistroPreparado) {
            // **IMPORTANTE: Adicionar IR no CLT tamb√©m!**
            const irCLT = calcularIR(salarioBruto); // CLT tamb√©m paga IR sobre sal√°rio bruto
            
            // **CORRE√á√ÉO IMPORTANTE:** 
            // FGTS, 13¬∫ e F√©rias devem ser o MESMO VALOR para ambos
            // Calculados sobre o sal√°rio bruto do CLT (n√£o porcentagem do valor bruto sem registro)
            
            // Sem Registro - Valores que deve guardar para ter benef√≠cios equivalentes
            const fgtsEquivalente = beneficioFGTS; // MESMO valor do CLT
            const reserva13Equivalente = beneficio13; // MESMO valor do CLT  
            const reservaFeriasEquivalente = beneficioFerias; // MESMO valor do CLT
            const inssOptional = inssEmpregado; // MESMO valor do CLT para compara√ß√£o justa
            
            const totalGuardarSemRegistro = irSemRegistro + fgtsEquivalente + reserva13Equivalente + reservaFeriasEquivalente + inssOptional;
            const sobraLiquida = valorBrutoSemRegistro - totalGuardarSemRegistro;
            
            // CLT - Total de descontos obrigat√≥rios
            const totalDescontosCLT = irCLT + inssEmpregado;
            
            // Recalcular total CLT considerando IR
            const salarioLiquidoComIR = salarioBruto - inssEmpregado - irCLT;
            const totalMedioCLTComIR = salarioLiquidoComIR + beneficio13 + beneficioFerias + beneficioFGTS;
            
            // Atualizar valores na tabela lado a lado
            document.getElementById('breakdown-sem-valor').textContent = formatarMoeda(valorBrutoSemRegistro);
            document.getElementById('breakdown-clt-bruto').textContent = formatarMoeda(salarioBruto);
            
            document.getElementById('breakdown-sem-ir').textContent = formatarMoeda(irSemRegistro);
            document.getElementById('breakdown-clt-ir').textContent = formatarMoeda(irCLT);
            
            document.getElementById('breakdown-sem-inss').textContent = formatarMoeda(inssOptional) + ' (mesmo valor)';
            document.getElementById('breakdown-clt-inss').textContent = formatarMoeda(inssEmpregado) + ' (obrigat√≥rio)';
            
            document.getElementById('breakdown-sem-fgts').textContent = formatarMoeda(fgtsEquivalente) + ' (deve guardar)';
            document.getElementById('breakdown-clt-fgts').textContent = formatarMoeda(beneficioFGTS) + ' (empresa paga)';
            
            document.getElementById('breakdown-sem-13').textContent = formatarMoeda(reserva13Equivalente) + ' (deve guardar)';
            document.getElementById('breakdown-clt-13').textContent = formatarMoeda(beneficio13) + ' (empresa paga)';
            
            document.getElementById('breakdown-sem-ferias').textContent = formatarMoeda(reservaFeriasEquivalente) + ' (deve guardar)';
            document.getElementById('breakdown-clt-ferias').textContent = formatarMoeda(beneficioFerias) + ' (empresa paga)';
            
            document.getElementById('breakdown-sem-total').textContent = formatarMoeda(totalGuardarSemRegistro);
            document.getElementById('breakdown-clt-descontos').textContent = formatarMoeda(totalDescontosCLT);
            
            document.getElementById('breakdown-sem-sobra').textContent = formatarMoeda(valorSemRegistroPreparado);
            document.getElementById('breakdown-clt-total').textContent = formatarMoeda(totalMedioCLTComIR);
        }

        // Remover c√°lculo autom√°tico - s√≥ calcular quando clicar no bot√£o
        // (c√≥digo removido para que s√≥ calcule ao clicar no bot√£o)
    </script>
</body>
</html>
